<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>JW Player</title>
<script src="https://cdn.jwplayer.com/libraries/IDzF9Zmk.js"></script>
<style>
body{margin:0;padding:0;background:#000;display:flex;justify-content:center;align-items:center;height:100vh;}
#player{width:100%;max-width:900px;aspect-ratio:16/9;position:relative;}
</style>
</head>
<body>
<div id="player"></div>

<script>
const params = new URLSearchParams(window.location.search);
const url = params.get('url');
const logoOn = params.get('logoOn')==='1';
const logo = params.get('logo');
const logoPos = params.get('logoPos');
const logoSize = parseInt(params.get('logoSize')||120);
const logoOpacity = parseFloat(params.get('logoOpacity')||1);
const wmOn = params.get('wmOn')==='1';
const wm = params.get('wm');
const wmPos = params.get('wmPos');
const wmOpacity = parseFloat(params.get('wmOpacity')||0.6);

// JW Player setup
const config = {file:url,width:'100%',aspectratio:'16:9',autostart:false};
if(logoOn && logo){
  config.logo={file:logo,position:logoPos,width:logoSize,opacity:logoOpacity};
}
jwplayer('player').setup(config);

// Watermark
if(wmOn && wm){
  const overlay = document.createElement('div');
  overlay.textContent = wm;
  overlay.style.position='absolute';
  overlay.style.color='white';
  overlay.style.fontSize='20px';
  overlay.style.opacity=wmOpacity;
  overlay.style.pointerEvents='none';
  overlay.style.textShadow='1px 1px 3px rgba(0,0,0,0.7)';
  if(wmPos==='center'){overlay.style.top='50%';overlay.style.left='50%';overlay.style.transform='translate(-50%,-50%)';}
  else{
    const [v,h]=wmPos.split('-');
    overlay.style[v]='10px';
    overlay.style[h]='10px';
  }
  document.getElementById('player').appendChild(overlay);
}
</script>
</body>
</html>
